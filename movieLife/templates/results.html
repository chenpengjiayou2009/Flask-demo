{% extends 'base.html' %}

{% block content %}
{% if results != None %}

<div class="container" style="margin-top: 10px">
    <div class="row">
        <div class="col-12">
          <h4>{{ results.length }} 查询结果 </h4>
          <ul class="list-group list-group-flush">
            {% for result in results %}
            <li class="list-group-item" style="display: flex">
                {% if result.image %}
                    <a href="{{ url_for('detail', movie_id=result.id) }}"><img src="{{ result.image }}" style="width: 100px;height: 90%"></a>
                {% else %}
                    <img src="{{ url_for('static',filename='images/backup.jpg') }}" style="width: 20%;height: 30%">
                {% endif %}
                <div style="margin-left: 5%">
                    <h4 style="margin-bottom: 4%;width: 700px">{{ result.title }}</h4>
                    <p>{{ result.year }}</p>
                    <span class="float-right">
                        <a class="btn btn-primary" href="{{ url_for('detail',movie_id=result.id) }}">详情</a>
                    </span>
                </div>
            </li>
            {% endfor %}
          {% else %}
            <p>暂未查询到结果</p>
          </ul>
        {% endif %}
        </div>
    </div>
</div>
{% endblock %}